; ESP32-C3 SuperMini WiFi/MQTT Gateway
; Receives grind session data from ESP32-S3 via UART and publishes to MQTT
; Configurable via USB serial connection

[platformio]
default_envs = esp32c3-supermini

[env:esp32c3-supermini]
platform = espressif32@6.5.0
board = esp32-c3-devkitm-1
framework = arduino
board_build.mcu = esp32c3
board_build.f_cpu = 160000000L
board_build.partitions = default.csv

build_flags =
    -DCORE_DEBUG_LEVEL=3
    -DARDUINO_USB_MODE=1
    -DARDUINO_USB_CDC_ON_BOOT=1

lib_deps =
    knolleary/PubSubClient @ ^2.8
    bblanchon/ArduinoJson @ ^7.0.0

monitor_speed = 115200
monitor_filters =
    esp32_exception_decoder
    default

upload_speed = 921600

